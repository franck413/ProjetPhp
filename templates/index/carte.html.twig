{% extends 'base.html.twig' %}

{% block style %}
    <style>
        #map{ /* Hauteur de la carte */
            height:60vh;
        }
    </style>
{% endblock %}

{% block body %}

    <div id="map">
        <!-- Ici s'affichera la carte -->
    </div>

{% endblock %}

{% block script %}
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
    <script type="text/javascript">
        // On initialise la latitude et la longitude de Paris (centre de la carte)

        var lon = 4.475403;
        var lat = 50.499527;
        var macarte = null;

        function initNewMap(){
            // Pour plusieurs location
            var locations = [
                {town: "1", lat: 50.499527, lon: 4.475403},
                {town: "1", lat: 11.9804, lon: 122.9189},
                {town: "1", lat: 10.7202, lon: 122.5621},
                {town: "1", lat: 11.3889, lon: 122.6277},
                {town: "1", lat: 10.5929, lon: 122.6325},
            ];

            var map = L.map('map').setView([lat, lon], 11);
            mapLink = '<a href="http://openstreetmap.org">OpenStreetMap</a>';
            L.tileLayer(
                'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; ' + mapLink + ' Contributors',
                    maxZoom: 18,
                }).addTo(map);

            let mess = "Description dudit bien se trouvant à l'adresse indiquée";
            marker = new L.marker([lat, lon])
                .bindPopup("<h3>Belgique</h3>" + "<p class='text-muted h6'>" + mess + "</p>")
                .addTo(map);

            //  Pour plusieur locations

            // for (var i = 0; i < locations.length; i++) {
            // marker = new L.marker([locations[i].lat, locations[i].lon])
            //     .bindPopup(locations[i].town)
            //     .addTo(map);
            // }
        }
        window.onload = function(){
            // Fonction d'initialisation qui s'exécute lorsque le DOM est chargé
            initNewMap();
        };
    </script>

{% endblock %}

